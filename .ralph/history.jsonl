{"ts":"2026-02-13T06:36:14.818387113Z","type":{"kind":"loop_started","prompt":"# MeetBalls — Local-First Meeting Assistant CLI\n\n## Problem Statement\n\nMeetings generate valuable information that is lost because note-taking is distracting,\nrecordings sit unwatched, and paid transcription services add cost and privacy concerns.\nDevelopers need a zero-cost, privacy-respecting tool that captures meeting audio,\ntranscribes it locally, and enables interactive Q&A against the transcript using Claude Code CLI.\n\n## What To Build\n\nA minimal, opinionated, shell-script-driven CLI tool called **MeetBalls** that:\n\n1. **Records** meeting audio from the system microphone\n2. **Transcribes** the recording locally using a free, offline speech-to-text engine\n3. **Enables Q&A** by feeding the transcript as context to Claude Code CLI for interactive querying\n\nThis is the **MVP** — no extras, no web UI, no cloud services.\n\n## Commands\n\n### `meetballs record`\n- Start recording audio from the default system microphone\n- Save as a standard audio format (WAV or OGG) to `~/.meetballs/recordings/`\n- Name files with ISO timestamp: `2026-02-12T14-30-00.wav`\n- Stop recording on `Ctrl+C` (SIGINT) with graceful cleanup\n- Print recording duration and file path on completion\n\n### `meetballs transcribe <recording>`\n- Transcribe a recording file using a **free, local, offline** speech-to-text engine\n- Candidate engines (evaluate during design): Whisper.cpp, Vosk, or similar\n- Output transcript as plain text to `~/.meetballs/transcripts/<same-basename>.txt`\n- Show progress indicator during transcription\n- Print transcript path on completion\n\n### `meetballs ask <transcript> \"<question>\"`\n- Pipe the transcript file as context to Claude Code CLI (`claude` command)\n- Prepend a system prompt that instructs Claude to answer based on the transcript\n- Stream Claude's response to stdout\n- Support follow-up questions (launch interactive Claude session with transcript loaded)\n\n### `meetballs list`\n- List all recordings and their corresponding transcripts (if any)\n- Show: filename, date, duration, transcript status (yes/no)\n\n## Technical Constraints\n\n- **Language**: Bash shell scripts (primary), with minimal Python only if a dependency requires it\n- **No paid services**: All processing is local and free — no API keys for transcription\n- **No Claude API**: Uses `claude` CLI command (Claude Code), not the Anthropic API\n- **Audio capture**: Use `arecord` (ALSA), `parecord` (PulseAudio), or `pw-record` (PipeWire) — auto-detect available backend\n- **Speech-to-text**: Must run fully offline — evaluate Whisper.cpp (via `whisper-cli` or compiled binary) as primary candidate\n- **Storage**: `~/.meetballs/` directory with `recordings/`, `transcripts/`, and `config` subdirectories\n- **Dependencies**: Minimize — document all required system packages in install check\n- **Platform**: Linux first (WSL2 compatible). macOS is out of scope for PFM\n\n## Non-Goals (Explicitly Out of Scope)\n\n- Speaker diarization (who said what)\n- Real-time transcription during recording\n- Web UI or Electron app\n- Cloud storage or sync\n- Meeting calendar integration\n- Video recording\n- Multi-language support beyond English for PFM\n- macOS / Windows native support\n\n## Success Criteria\n\n1. `meetballs record` captures clear audio from the system mic and saves to file\n2. `meetballs transcribe` produces a readable English transcript from the recording with no network calls\n3. `meetballs ask` loads the transcript into Claude Code CLI and returns a coherent answer to the question\n4. `meetballs list` shows recordings with transcript status\n5. All commands have `--help` with usage examples\n6. A `meetballs doctor` command checks that all dependencies are installed and reports missing ones\n7. Total install footprint is documented — user can go from zero to working in under 10 minutes\n\n## Edge Cases and Error Handling\n\n- **No microphone available**: Detect and print clear error with fix suggestions\n- **Recording interrupted abruptly** (kill -9): Partial WAV should still be readable; validate on transcribe\n- **Transcription of silence/noise**: Produce empty or near-empty transcript gracefully, don't error\n- **Very long recordings** (>2 hours): Warn about transcription time; chunk if the engine requires it\n- **Claude CLI not installed**: `meetballs ask` and `meetballs doctor` detect and report\n- **Whisper model not downloaded**: `meetballs doctor` checks for model; `meetballs transcribe` provides download instructions\n- **Disk space**: Check before recording; warn if <500MB free\n\n## User Experience\n\n```\n$ meetballs record\nRecording... (press Ctrl+C to stop)\n^C\nSaved: ~/.meetballs/recordings/2026-02-12T14-30-00.wav (duration: 45m12s)\n\n$ meetballs transcribe ~/.meetballs/recordings/2026-02-12T14-30-00.wav\nTranscribing... [=========>          ] 47%\nDone: ~/.meetballs/transcripts/2026-02-12T14-30-00.txt\n\n$ meetballs ask ~/.meetballs/transcripts/2026-02-12T14-30-00.txt \"What action items were discussed?\"\nBased on the transcript, the following action items were discussed:\n1. Andy will update the deployment script by Friday\n2. Team agreed to switch to weekly standups\n3. ...\n\n$ meetballs list\nRECORDING                          DURATION  TRANSCRIPT\n2026-02-12T14-30-00.wav           45m12s    yes\n2026-02-11T09-00-00.wav           1h02m     no\n\n$ meetballs doctor\nChecking dependencies...\n  arecord:     OK (ALSA)\n  whisper-cli: OK (model: base.en)\n  claude:      OK (Claude Code CLI)\n  disk space:  OK (12.4 GB free)\nAll checks passed.\n```\n\n## Project Structure\n\n```\nMeetBalls/\n├── bin/\n│   └── meetballs              # Main entry point (bash)\n├── lib/\n│   ├── record.sh              # Recording logic\n│   ├── transcribe.sh          # Transcription logic\n│   ├── ask.sh                 # Claude CLI integration\n│   ├── list.sh                # Listing logic\n│   ├── doctor.sh              # Dependency checking\n│   └── common.sh              # Shared utilities (colors, paths, validation)\n├── tests/\n│   ├── test_record.sh         # Recording tests\n│   ├── test_transcribe.sh     # Transcription tests\n│   ├── test_ask.sh            # Ask command tests\n│   ├── test_list.sh           # List command tests\n│   ├── test_doctor.sh         # Doctor command tests\n│   └── test_common.sh         # Utility tests\n├── install.sh                 # Installation script\n├── PROMPT.md                  # This file\n├── ralph.yml                  # Ralph orchestrator config\n└── README.md                  # User documentation (generated after implementation)\n```\n\n## Testing Strategy\n\n- Use [bats-core](https://github.com/bats-core/bats-core) as the bash test framework\n- Unit tests mock external commands (`arecord`, `whisper-cli`, `claude`) using bats stubs\n- Integration tests run real commands where safe (e.g., record 2 seconds of silence, transcribe a known WAV fixture)\n- E2E scenario: record 5 seconds → transcribe → ask a question → verify coherent response\n\n## Definition of Done\n\n- [ ] All five commands work (`record`, `transcribe`, `ask`, `list`, `doctor`)\n- [ ] `meetballs doctor` validates all dependencies\n- [ ] Transcription runs fully offline with no paid services\n- [ ] Claude Q&A works via `claude` CLI (not API)\n- [ ] bats-core tests pass for all commands\n- [ ] `install.sh` sets up the tool from a fresh clone\n- [ ] `--help` on every command prints usage with examples\n"}}
{"ts":"2026-02-13T07:26:09.346749499Z","type":{"kind":"loop_started","prompt":"# MeetBalls — Local-First Meeting Assistant CLI\n\n## Problem Statement\n\nMeetings generate valuable information that is lost because note-taking is distracting,\nrecordings sit unwatched, and paid transcription services add cost and privacy concerns.\nDevelopers need a zero-cost, privacy-respecting tool that captures meeting audio,\ntranscribes it locally, and enables interactive Q&A against the transcript using Claude Code CLI.\n\n## What To Build\n\nA minimal, opinionated, shell-script-driven CLI tool called **MeetBalls** that:\n\n1. **Records** meeting audio from the system microphone\n2. **Transcribes** the recording locally using a free, offline speech-to-text engine\n3. **Enables Q&A** by feeding the transcript as context to Claude Code CLI for interactive querying\n\nThis is the **MVP** — no extras, no web UI, no cloud services.\n\n## Commands\n\n### `meetballs record`\n- Start recording audio from the default system microphone\n- Save as a standard audio format (WAV or OGG) to `~/.meetballs/recordings/`\n- Name files with ISO timestamp: `2026-02-12T14-30-00.wav`\n- Stop recording on `Ctrl+C` (SIGINT) with graceful cleanup\n- Print recording duration and file path on completion\n\n### `meetballs transcribe <recording>`\n- Transcribe a recording file using a **free, local, offline** speech-to-text engine\n- Candidate engines (evaluate during design): Whisper.cpp, Vosk, or similar\n- Output transcript as plain text to `~/.meetballs/transcripts/<same-basename>.txt`\n- Show progress indicator during transcription\n- Print transcript path on completion\n\n### `meetballs ask <transcript> \"<question>\"`\n- Pipe the transcript file as context to Claude Code CLI (`claude` command)\n- Prepend a system prompt that instructs Claude to answer based on the transcript\n- Stream Claude's response to stdout\n- Support follow-up questions (launch interactive Claude session with transcript loaded)\n\n### `meetballs list`\n- List all recordings and their corresponding transcripts (if any)\n- Show: filename, date, duration, transcript status (yes/no)\n\n## Technical Constraints\n\n- **Language**: Bash shell scripts (primary), with minimal Python only if a dependency requires it\n- **No paid services**: All processing is local and free — no API keys for transcription\n- **No Claude API**: Uses `claude` CLI command (Claude Code), not the Anthropic API\n- **Audio capture**: Use `arecord` (ALSA), `parecord` (PulseAudio), or `pw-record` (PipeWire) — auto-detect available backend\n- **Speech-to-text**: Must run fully offline — evaluate Whisper.cpp (via `whisper-cli` or compiled binary) as primary candidate\n- **Storage**: `~/.meetballs/` directory with `recordings/`, `transcripts/`, and `config` subdirectories\n- **Dependencies**: Minimize — document all required system packages in install check\n- **Platform**: Linux first (WSL2 compatible). macOS is out of scope for PFM\n\n## Non-Goals (Explicitly Out of Scope)\n\n- Speaker diarization (who said what)\n- Real-time transcription during recording\n- Web UI or Electron app\n- Cloud storage or sync\n- Meeting calendar integration\n- Video recording\n- Multi-language support beyond English for PFM\n- macOS / Windows native support\n\n## Success Criteria\n\n1. `meetballs record` captures clear audio from the system mic and saves to file\n2. `meetballs transcribe` produces a readable English transcript from the recording with no network calls\n3. `meetballs ask` loads the transcript into Claude Code CLI and returns a coherent answer to the question\n4. `meetballs list` shows recordings with transcript status\n5. All commands have `--help` with usage examples\n6. A `meetballs doctor` command checks that all dependencies are installed and reports missing ones\n7. Total install footprint is documented — user can go from zero to working in under 10 minutes\n\n## Edge Cases and Error Handling\n\n- **No microphone available**: Detect and print clear error with fix suggestions\n- **Recording interrupted abruptly** (kill -9): Partial WAV should still be readable; validate on transcribe\n- **Transcription of silence/noise**: Produce empty or near-empty transcript gracefully, don't error\n- **Very long recordings** (>2 hours): Warn about transcription time; chunk if the engine requires it\n- **Claude CLI not installed**: `meetballs ask` and `meetballs doctor` detect and report\n- **Whisper model not downloaded**: `meetballs doctor` checks for model; `meetballs transcribe` provides download instructions\n- **Disk space**: Check before recording; warn if <500MB free\n\n## User Experience\n\n```\n$ meetballs record\nRecording... (press Ctrl+C to stop)\n^C\nSaved: ~/.meetballs/recordings/2026-02-12T14-30-00.wav (duration: 45m12s)\n\n$ meetballs transcribe ~/.meetballs/recordings/2026-02-12T14-30-00.wav\nTranscribing... [=========>          ] 47%\nDone: ~/.meetballs/transcripts/2026-02-12T14-30-00.txt\n\n$ meetballs ask ~/.meetballs/transcripts/2026-02-12T14-30-00.txt \"What action items were discussed?\"\nBased on the transcript, the following action items were discussed:\n1. Andy will update the deployment script by Friday\n2. Team agreed to switch to weekly standups\n3. ...\n\n$ meetballs list\nRECORDING                          DURATION  TRANSCRIPT\n2026-02-12T14-30-00.wav           45m12s    yes\n2026-02-11T09-00-00.wav           1h02m     no\n\n$ meetballs doctor\nChecking dependencies...\n  arecord:     OK (ALSA)\n  whisper-cli: OK (model: base.en)\n  claude:      OK (Claude Code CLI)\n  disk space:  OK (12.4 GB free)\nAll checks passed.\n```\n\n## Project Structure\n\n```\nMeetBalls/\n├── bin/\n│   └── meetballs              # Main entry point (bash)\n├── lib/\n│   ├── record.sh              # Recording logic\n│   ├── transcribe.sh          # Transcription logic\n│   ├── ask.sh                 # Claude CLI integration\n│   ├── list.sh                # Listing logic\n│   ├── doctor.sh              # Dependency checking\n│   └── common.sh              # Shared utilities (colors, paths, validation)\n├── tests/\n│   ├── test_record.sh         # Recording tests\n│   ├── test_transcribe.sh     # Transcription tests\n│   ├── test_ask.sh            # Ask command tests\n│   ├── test_list.sh           # List command tests\n│   ├── test_doctor.sh         # Doctor command tests\n│   └── test_common.sh         # Utility tests\n├── install.sh                 # Installation script\n├── PROMPT.md                  # This file\n├── ralph.yml                  # Ralph orchestrator config\n└── README.md                  # User documentation (generated after implementation)\n```\n\n## Testing Strategy\n\n- Use [bats-core](https://github.com/bats-core/bats-core) as the bash test framework\n- Unit tests mock external commands (`arecord`, `whisper-cli`, `claude`) using bats stubs\n- Integration tests run real commands where safe (e.g., record 2 seconds of silence, transcribe a known WAV fixture)\n- E2E scenario: record 5 seconds → transcribe → ask a question → verify coherent response\n\n## Definition of Done\n\n- [ ] All five commands work (`record`, `transcribe`, `ask`, `list`, `doctor`)\n- [ ] `meetballs doctor` validates all dependencies\n- [ ] Transcription runs fully offline with no paid services\n- [ ] Claude Q&A works via `claude` CLI (not API)\n- [ ] bats-core tests pass for all commands\n- [ ] `install.sh` sets up the tool from a fresh clone\n- [ ] `--help` on every command prints usage with examples\n"}}
{"ts":"2026-02-13T07:26:11.623433700Z","type":{"kind":"loop_completed","reason":"consecutive_failures"}}
{"ts":"2026-02-13T07:26:55.184872731Z","type":{"kind":"loop_started","prompt":"# MeetBalls — Local-First Meeting Assistant CLI\n\n## Problem Statement\n\nMeetings generate valuable information that is lost because note-taking is distracting,\nrecordings sit unwatched, and paid transcription services add cost and privacy concerns.\nDevelopers need a zero-cost, privacy-respecting tool that captures meeting audio,\ntranscribes it locally, and enables interactive Q&A against the transcript using Claude Code CLI.\n\n## What To Build\n\nA minimal, opinionated, shell-script-driven CLI tool called **MeetBalls** that:\n\n1. **Records** meeting audio from the system microphone\n2. **Transcribes** the recording locally using a free, offline speech-to-text engine\n3. **Enables Q&A** by feeding the transcript as context to Claude Code CLI for interactive querying\n\nThis is the **MVP** — no extras, no web UI, no cloud services.\n\n## Commands\n\n### `meetballs record`\n- Start recording audio from the default system microphone\n- Save as a standard audio format (WAV or OGG) to `~/.meetballs/recordings/`\n- Name files with ISO timestamp: `2026-02-12T14-30-00.wav`\n- Stop recording on `Ctrl+C` (SIGINT) with graceful cleanup\n- Print recording duration and file path on completion\n\n### `meetballs transcribe <recording>`\n- Transcribe a recording file using a **free, local, offline** speech-to-text engine\n- Candidate engines (evaluate during design): Whisper.cpp, Vosk, or similar\n- Output transcript as plain text to `~/.meetballs/transcripts/<same-basename>.txt`\n- Show progress indicator during transcription\n- Print transcript path on completion\n\n### `meetballs ask <transcript> \"<question>\"`\n- Pipe the transcript file as context to Claude Code CLI (`claude` command)\n- Prepend a system prompt that instructs Claude to answer based on the transcript\n- Stream Claude's response to stdout\n- Support follow-up questions (launch interactive Claude session with transcript loaded)\n\n### `meetballs list`\n- List all recordings and their corresponding transcripts (if any)\n- Show: filename, date, duration, transcript status (yes/no)\n\n## Technical Constraints\n\n- **Language**: Bash shell scripts (primary), with minimal Python only if a dependency requires it\n- **No paid services**: All processing is local and free — no API keys for transcription\n- **No Claude API**: Uses `claude` CLI command (Claude Code), not the Anthropic API\n- **Audio capture**: Use `arecord` (ALSA), `parecord` (PulseAudio), or `pw-record` (PipeWire) — auto-detect available backend\n- **Speech-to-text**: Must run fully offline — evaluate Whisper.cpp (via `whisper-cli` or compiled binary) as primary candidate\n- **Storage**: `~/.meetballs/` directory with `recordings/`, `transcripts/`, and `config` subdirectories\n- **Dependencies**: Minimize — document all required system packages in install check\n- **Platform**: Linux first (WSL2 compatible). macOS is out of scope for PFM\n\n## Non-Goals (Explicitly Out of Scope)\n\n- Speaker diarization (who said what)\n- Real-time transcription during recording\n- Web UI or Electron app\n- Cloud storage or sync\n- Meeting calendar integration\n- Video recording\n- Multi-language support beyond English for PFM\n- macOS / Windows native support\n\n## Success Criteria\n\n1. `meetballs record` captures clear audio from the system mic and saves to file\n2. `meetballs transcribe` produces a readable English transcript from the recording with no network calls\n3. `meetballs ask` loads the transcript into Claude Code CLI and returns a coherent answer to the question\n4. `meetballs list` shows recordings with transcript status\n5. All commands have `--help` with usage examples\n6. A `meetballs doctor` command checks that all dependencies are installed and reports missing ones\n7. Total install footprint is documented — user can go from zero to working in under 10 minutes\n\n## Edge Cases and Error Handling\n\n- **No microphone available**: Detect and print clear error with fix suggestions\n- **Recording interrupted abruptly** (kill -9): Partial WAV should still be readable; validate on transcribe\n- **Transcription of silence/noise**: Produce empty or near-empty transcript gracefully, don't error\n- **Very long recordings** (>2 hours): Warn about transcription time; chunk if the engine requires it\n- **Claude CLI not installed**: `meetballs ask` and `meetballs doctor` detect and report\n- **Whisper model not downloaded**: `meetballs doctor` checks for model; `meetballs transcribe` provides download instructions\n- **Disk space**: Check before recording; warn if <500MB free\n\n## User Experience\n\n```\n$ meetballs record\nRecording... (press Ctrl+C to stop)\n^C\nSaved: ~/.meetballs/recordings/2026-02-12T14-30-00.wav (duration: 45m12s)\n\n$ meetballs transcribe ~/.meetballs/recordings/2026-02-12T14-30-00.wav\nTranscribing... [=========>          ] 47%\nDone: ~/.meetballs/transcripts/2026-02-12T14-30-00.txt\n\n$ meetballs ask ~/.meetballs/transcripts/2026-02-12T14-30-00.txt \"What action items were discussed?\"\nBased on the transcript, the following action items were discussed:\n1. Andy will update the deployment script by Friday\n2. Team agreed to switch to weekly standups\n3. ...\n\n$ meetballs list\nRECORDING                          DURATION  TRANSCRIPT\n2026-02-12T14-30-00.wav           45m12s    yes\n2026-02-11T09-00-00.wav           1h02m     no\n\n$ meetballs doctor\nChecking dependencies...\n  arecord:     OK (ALSA)\n  whisper-cli: OK (model: base.en)\n  claude:      OK (Claude Code CLI)\n  disk space:  OK (12.4 GB free)\nAll checks passed.\n```\n\n## Project Structure\n\n```\nMeetBalls/\n├── bin/\n│   └── meetballs              # Main entry point (bash)\n├── lib/\n│   ├── record.sh              # Recording logic\n│   ├── transcribe.sh          # Transcription logic\n│   ├── ask.sh                 # Claude CLI integration\n│   ├── list.sh                # Listing logic\n│   ├── doctor.sh              # Dependency checking\n│   └── common.sh              # Shared utilities (colors, paths, validation)\n├── tests/\n│   ├── test_record.sh         # Recording tests\n│   ├── test_transcribe.sh     # Transcription tests\n│   ├── test_ask.sh            # Ask command tests\n│   ├── test_list.sh           # List command tests\n│   ├── test_doctor.sh         # Doctor command tests\n│   └── test_common.sh         # Utility tests\n├── install.sh                 # Installation script\n├── PROMPT.md                  # This file\n├── ralph.yml                  # Ralph orchestrator config\n└── README.md                  # User documentation (generated after implementation)\n```\n\n## Testing Strategy\n\n- Use [bats-core](https://github.com/bats-core/bats-core) as the bash test framework\n- Unit tests mock external commands (`arecord`, `whisper-cli`, `claude`) using bats stubs\n- Integration tests run real commands where safe (e.g., record 2 seconds of silence, transcribe a known WAV fixture)\n- E2E scenario: record 5 seconds → transcribe → ask a question → verify coherent response\n\n## Definition of Done\n\n- [ ] All five commands work (`record`, `transcribe`, `ask`, `list`, `doctor`)\n- [ ] `meetballs doctor` validates all dependencies\n- [ ] Transcription runs fully offline with no paid services\n- [ ] Claude Q&A works via `claude` CLI (not API)\n- [ ] bats-core tests pass for all commands\n- [ ] `install.sh` sets up the tool from a fresh clone\n- [ ] `--help` on every command prints usage with examples\n"}}
{"ts":"2026-02-13T07:26:56.060576115Z","type":{"kind":"loop_completed","reason":"max_iterations"}}
{"ts":"2026-02-13T07:32:05.043241875Z","type":{"kind":"loop_started","prompt":"# MeetBalls — Local-First Meeting Assistant CLI\n\n## Problem Statement\n\nMeetings generate valuable information that is lost because note-taking is distracting,\nrecordings sit unwatched, and paid transcription services add cost and privacy concerns.\nDevelopers need a zero-cost, privacy-respecting tool that captures meeting audio,\ntranscribes it locally, and enables interactive Q&A against the transcript using Claude Code CLI.\n\n## What To Build\n\nA minimal, opinionated, shell-script-driven CLI tool called **MeetBalls** that:\n\n1. **Records** meeting audio from the system microphone\n2. **Transcribes** the recording locally using a free, offline speech-to-text engine\n3. **Enables Q&A** by feeding the transcript as context to Claude Code CLI for interactive querying\n\nThis is the **MVP** — no extras, no web UI, no cloud services.\n\n## Commands\n\n### `meetballs record`\n- Start recording audio from the default system microphone\n- Save as a standard audio format (WAV or OGG) to `~/.meetballs/recordings/`\n- Name files with ISO timestamp: `2026-02-12T14-30-00.wav`\n- Stop recording on `Ctrl+C` (SIGINT) with graceful cleanup\n- Print recording duration and file path on completion\n\n### `meetballs transcribe <recording>`\n- Transcribe a recording file using a **free, local, offline** speech-to-text engine\n- Candidate engines (evaluate during design): Whisper.cpp, Vosk, or similar\n- Output transcript as plain text to `~/.meetballs/transcripts/<same-basename>.txt`\n- Show progress indicator during transcription\n- Print transcript path on completion\n\n### `meetballs ask <transcript> \"<question>\"`\n- Pipe the transcript file as context to Claude Code CLI (`claude` command)\n- Prepend a system prompt that instructs Claude to answer based on the transcript\n- Stream Claude's response to stdout\n- Support follow-up questions (launch interactive Claude session with transcript loaded)\n\n### `meetballs list`\n- List all recordings and their corresponding transcripts (if any)\n- Show: filename, date, duration, transcript status (yes/no)\n\n## Technical Constraints\n\n- **Language**: Bash shell scripts (primary), with minimal Python only if a dependency requires it\n- **No paid services**: All processing is local and free — no API keys for transcription\n- **No Claude API**: Uses `claude` CLI command (Claude Code), not the Anthropic API\n- **Audio capture**: Use `arecord` (ALSA), `parecord` (PulseAudio), or `pw-record` (PipeWire) — auto-detect available backend\n- **Speech-to-text**: Must run fully offline — evaluate Whisper.cpp (via `whisper-cli` or compiled binary) as primary candidate\n- **Storage**: `~/.meetballs/` directory with `recordings/`, `transcripts/`, and `config` subdirectories\n- **Dependencies**: Minimize — document all required system packages in install check\n- **Platform**: Linux first (WSL2 compatible). macOS is out of scope for PFM\n\n## Non-Goals (Explicitly Out of Scope)\n\n- Speaker diarization (who said what)\n- Real-time transcription during recording\n- Web UI or Electron app\n- Cloud storage or sync\n- Meeting calendar integration\n- Video recording\n- Multi-language support beyond English for PFM\n- macOS / Windows native support\n\n## Success Criteria\n\n1. `meetballs record` captures clear audio from the system mic and saves to file\n2. `meetballs transcribe` produces a readable English transcript from the recording with no network calls\n3. `meetballs ask` loads the transcript into Claude Code CLI and returns a coherent answer to the question\n4. `meetballs list` shows recordings with transcript status\n5. All commands have `--help` with usage examples\n6. A `meetballs doctor` command checks that all dependencies are installed and reports missing ones\n7. Total install footprint is documented — user can go from zero to working in under 10 minutes\n\n## Edge Cases and Error Handling\n\n- **No microphone available**: Detect and print clear error with fix suggestions\n- **Recording interrupted abruptly** (kill -9): Partial WAV should still be readable; validate on transcribe\n- **Transcription of silence/noise**: Produce empty or near-empty transcript gracefully, don't error\n- **Very long recordings** (>2 hours): Warn about transcription time; chunk if the engine requires it\n- **Claude CLI not installed**: `meetballs ask` and `meetballs doctor` detect and report\n- **Whisper model not downloaded**: `meetballs doctor` checks for model; `meetballs transcribe` provides download instructions\n- **Disk space**: Check before recording; warn if <500MB free\n\n## User Experience\n\n```\n$ meetballs record\nRecording... (press Ctrl+C to stop)\n^C\nSaved: ~/.meetballs/recordings/2026-02-12T14-30-00.wav (duration: 45m12s)\n\n$ meetballs transcribe ~/.meetballs/recordings/2026-02-12T14-30-00.wav\nTranscribing... [=========>          ] 47%\nDone: ~/.meetballs/transcripts/2026-02-12T14-30-00.txt\n\n$ meetballs ask ~/.meetballs/transcripts/2026-02-12T14-30-00.txt \"What action items were discussed?\"\nBased on the transcript, the following action items were discussed:\n1. Andy will update the deployment script by Friday\n2. Team agreed to switch to weekly standups\n3. ...\n\n$ meetballs list\nRECORDING                          DURATION  TRANSCRIPT\n2026-02-12T14-30-00.wav           45m12s    yes\n2026-02-11T09-00-00.wav           1h02m     no\n\n$ meetballs doctor\nChecking dependencies...\n  arecord:     OK (ALSA)\n  whisper-cli: OK (model: base.en)\n  claude:      OK (Claude Code CLI)\n  disk space:  OK (12.4 GB free)\nAll checks passed.\n```\n\n## Project Structure\n\n```\nMeetBalls/\n├── bin/\n│   └── meetballs              # Main entry point (bash)\n├── lib/\n│   ├── record.sh              # Recording logic\n│   ├── transcribe.sh          # Transcription logic\n│   ├── ask.sh                 # Claude CLI integration\n│   ├── list.sh                # Listing logic\n│   ├── doctor.sh              # Dependency checking\n│   └── common.sh              # Shared utilities (colors, paths, validation)\n├── tests/\n│   ├── test_record.sh         # Recording tests\n│   ├── test_transcribe.sh     # Transcription tests\n│   ├── test_ask.sh            # Ask command tests\n│   ├── test_list.sh           # List command tests\n│   ├── test_doctor.sh         # Doctor command tests\n│   └── test_common.sh         # Utility tests\n├── install.sh                 # Installation script\n├── PROMPT.md                  # This file\n├── ralph.yml                  # Ralph orchestrator config\n└── README.md                  # User documentation (generated after implementation)\n```\n\n## Testing Strategy\n\n- Use [bats-core](https://github.com/bats-core/bats-core) as the bash test framework\n- Unit tests mock external commands (`arecord`, `whisper-cli`, `claude`) using bats stubs\n- Integration tests run real commands where safe (e.g., record 2 seconds of silence, transcribe a known WAV fixture)\n- E2E scenario: record 5 seconds → transcribe → ask a question → verify coherent response\n\n## Definition of Done\n\n- [ ] All five commands work (`record`, `transcribe`, `ask`, `list`, `doctor`)\n- [ ] `meetballs doctor` validates all dependencies\n- [ ] Transcription runs fully offline with no paid services\n- [ ] Claude Q&A works via `claude` CLI (not API)\n- [ ] bats-core tests pass for all commands\n- [ ] `install.sh` sets up the tool from a fresh clone\n- [ ] `--help` on every command prints usage with examples\n"}}
{"ts":"2026-02-13T08:18:09.888710822Z","type":{"kind":"loop_completed","reason":"completion_promise"}}
